(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),c=n.n(r),o=n(10),i=n.n(o),s=n(17),u=n.n(s),l=n(31),d=n(18),j=n(32),b={todos:[],trigger:!0},p=function(e,t){switch(t.type){case"POPULATE":return Object(j.a)(Object(j.a)({},e),{},{todos:t.payload,trigger:!1});case"TRIGGER":return Object(j.a)(Object(j.a)({},e),{},{trigger:t.payload});default:return e}},h=n(42),f=n.n(h),O="https://full-stack-todo-bknd.herokuapp.com";function x(){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,f.a.get(O+"/api/todo").then((function(e){t=e.data.todos})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O+"/api/todo",t).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put(O+"/api/todo/"+t._id,t).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete(O+"/api/todo/"+t._id).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(r.createContext)({}),C=function(e){var t=e.children,n=Object(r.useReducer)(p,b),c=Object(d.a)(n,2),o=c[0],i=c[1],s=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="REPOPULATE"===e.t0?3:7;break;case 3:return e.next=5,x();case 5:return n=e.sent,e.abrupt("return",n);case 7:return e.abrupt("return",i(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(w.Provider,{value:{state:o,dispatch:s},children:t})},R=n(158),E=n(159),T=n(138),S=n(141),G=n(160),I=n(145),P=n(146),B=Object(T.a)({root:{color:"White"}}),D=function(){var e=B(),t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],o=n[1],i=Object(r.useContext)(w).dispatch;return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(S.a,{container:!0,spacing:1,alignItems:"center",children:[Object(a.jsx)(S.a,{item:!0,children:Object(a.jsx)(G.a,{color:"primary",label:"Todo",variant:"outlined",value:c,onChange:function(e){return o(e.target.value)}})}),Object(a.jsx)(S.a,{item:!0,children:Object(a.jsx)(I.a,{color:"primary","aria-label":"registre todo",component:"span",onClick:function(e){(function(e){return y.apply(this,arguments)})({when:(+new Date).toString(),task:c,done:!1,by:"Igor Souza"}).then((function(){i&&i({type:"TRIGGER",payload:!0})})),o("")},children:Object(a.jsx)(P.a,{style:{fontSize:"32px"}})})})]})})},N=function(){return Object(a.jsxs)("p",{style:{fontSize:"3em",margin:"20px 0px"},children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Todo"}),"List"]})},_=n(164),W=n(144),z=n(152),A=n(153),F=n(162),L=n(154),U=n(155),J=n(156),M=n(157),Y=n(147),q=n(163),H=n(148),K=n(149),Q=n(150),V=n(151),X=c.a.forwardRef((function(e,t){return Object(a.jsx)(Y.a,Object(j.a)({direction:"up",ref:t},e))})),Z=function(e){var t=Object(r.useState)(e.task.task),n=Object(d.a)(t,2),c=n[0],o=n[1],i=Object(r.useContext)(w).dispatch;Object(r.useEffect)((function(){o(e.task.task)}),[e.task]);return Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{open:e.open,TransitionComponent:X,keepMounted:!0,onClose:e.onClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(H.a,{id:"alert-dialog-slide-title",children:"Edit this Task"}),Object(a.jsx)(K.a,{children:Object(a.jsx)(G.a,{label:"Task Name",value:c,onChange:function(e){o(e.target.value)}})}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(V.a,{onClick:e.onClose,color:"primary",children:"Cancel"}),Object(a.jsx)(V.a,{onClick:function(){var t,n;t=e.task,n=e.onClose,t.task=c,k(t).then((function(){i&&i({type:"TRIGGER",payload:!0})})),n()},color:"primary",children:"Save"})]})]})})},$=Object(T.a)((function(e){return Object(_.a)({root:{width:"100%",maxWidth:360,height:250,backgroundColor:e.palette.background.paper,flexWrap:"wrap",overflowY:"scroll",WebkitOverflowScrolling:"touch"},whenDone:{textDecoration:"line-through",textDecorationColor:"#8B8B8B",textDecorationThickness:"2px",color:"#8B8B8B"}})})),ee=function(){var e=$(),t=Object(r.useContext)(w),n=t.state,c=t.dispatch,o=Object(r.useState)({_id:"",task:"",when:"",done:!1,by:""}),i=Object(d.a)(o,2),s=i[0],u=i[1],l=Object(r.useState)(!1),j=Object(d.a)(l,2),b=j[0],p=j[1],h=function(e){return function(){e.done=!e.done,k(e).then((function(){c&&c({type:"TRIGGER",payload:!0})}))}},f=function(e){return function(){u(e),p(!0)}},O=function(e){return function(){(function(e){return m.apply(this,arguments)})(e).then((function(){c&&c({type:"TRIGGER",payload:!0})}))}};return Object(a.jsx)(W.a,{className:e.root,children:n&&n.todos?n.todos.map((function(t){var n="checkbox-list-label-".concat(t._id);return Object(a.jsxs)("div",{children:[Object(a.jsx)(Z,{task:s,open:b,onClose:function(){p(!1)}}),Object(a.jsxs)(z.a,{role:void 0,dense:!0,button:!0,onClick:h(t),children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(F.a,{edge:"start",checked:t.done,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(a.jsx)(L.a,{className:t.done?e.whenDone:void 0,id:n,primary:t.task}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)(I.a,{onClick:f(t),edge:"end","aria-label":"edit-task",children:Object(a.jsx)(J.a,{})}),Object(a.jsx)(I.a,{onClick:O(t),edge:"end","aria-label":"delete-task",children:Object(a.jsx)(M.a,{})})]})]},t._id)]},t._id)})):Object(a.jsx)(a.Fragment,{})})},te=Object(T.a)({root:{background:"linear-gradient(45deg, #49008E 30%, #26004A 90%)",fontFamily:"Fira Code",position:"fixed",padding:0,margin:0,top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center"},container:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:"30px 0px",height:"600px",width:"400px",background:"white",borderRadius:16},divider:{width:350,margin:20}}),ne=function(){var e=te(),t=Object(r.useContext)(w),n=t.state,c=t.dispatch,o=Object(r.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1];return Object(r.useEffect)((function(){(null===n||void 0===n?void 0:n.trigger)&&(u(!0),x().then((function(e){c&&c({type:"POPULATE",payload:e})})),u(!1))}),[null===n||void 0===n?void 0:n.trigger,c]),Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("div",{className:e.container,children:s?Object(a.jsx)(R.a,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{}),Object(a.jsx)(D,{}),Object(a.jsx)(E.a,{className:e.divider,variant:"middle",orientation:"horizontal"}),Object(a.jsx)(ee,{})]})})})},ae=function(){return Object(a.jsxs)(C,{children:[Object(a.jsx)(ne,{}),";"]})};n(107);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.a38b8828.chunk.js.map